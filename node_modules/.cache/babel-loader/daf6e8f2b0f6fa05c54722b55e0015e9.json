{"remainingRequest":"C:\\Users\\micha\\VueProjects\\play-state-main\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\micha\\VueProjects\\play-state-main\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\micha\\VueProjects\\play-state-main\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\micha\\VueProjects\\play-state-main\\src\\store\\index.js","mtime":1636334635135},{"path":"C:\\Users\\micha\\VueProjects\\play-state-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636330091031},{"path":"C:\\Users\\micha\\VueProjects\\play-state-main\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1636330091756},{"path":"C:\\Users\\micha\\VueProjects\\play-state-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1636330090083}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL21pY2hhL1Z1ZVByb2plY3RzL3BsYXktc3RhdGUtbWFpbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCAqIGFzIGZiIGZyb20gJy4uL2ZpcmViYXNlJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXIvaW5kZXgnOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHVzZXJQcm9maWxlOiB7fSwKICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UKICB9LAogIG11dGF0aW9uczogewogICAgc2V0VXNlclByb2ZpbGU6IGZ1bmN0aW9uIHNldFVzZXJQcm9maWxlKHN0YXRlLCB2YWwsIGF1dGhTdGF0ZSkgewogICAgICBzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQgPSAhc3RhdGUuaXNBdXRoZW50aWNhdGVkOwogICAgICBzdGF0ZS51c2VyUHJvZmlsZSA9IHZhbDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcihfcmVmLCBmb3JtKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGRpc3BhdGNoLCBfeWllbGQkZmIkYXV0aCRjcmVhdGUsIHVzZXI7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGZiLmF1dGguY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKGZvcm0uZW1haWwsIGZvcm0ucGFzc3dvcmQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfeWllbGQkZmIkYXV0aCRjcmVhdGUgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgdXNlciA9IF95aWVsZCRmYiRhdXRoJGNyZWF0ZS51c2VyOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gZmIudXNlcnNDb2xsZWN0aW9uLmRvYyh1c2VyLnVpZCkuc2V0KHsKICAgICAgICAgICAgICAgICAgbmFtZTogZm9ybS5uYW1lCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgLy8gZmV0Y2ggdXNlciBwcm9maWxlCiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnZmV0Y2hVc2VyUHJvZmlsZScsIHVzZXIpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYyLCBmb3JtKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBkaXNwYXRjaCwgX3lpZWxkJGZiJGF1dGgkc2lnbkluLCB1c2VyOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMi5kaXNwYXRjaDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBmYi5hdXRoLnNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKGZvcm0uZW1haWwsIGZvcm0ucGFzc3dvcmQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfeWllbGQkZmIkYXV0aCRzaWduSW4gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHVzZXIgPSBfeWllbGQkZmIkYXV0aCRzaWduSW4udXNlcjsKICAgICAgICAgICAgICAgIC8vIGZldGNoIHVzZXIgcHJvZmlsZQogICAgICAgICAgICAgICAgZGlzcGF0Y2goJ2ZldGNoVXNlclByb2ZpbGUnLCB1c2VyKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZmV0Y2hVc2VyUHJvZmlsZTogZnVuY3Rpb24gZmV0Y2hVc2VyUHJvZmlsZShfcmVmMywgdXNlcikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgY29tbWl0LCB1c2VyUHJvZmlsZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGZiLnVzZXJzQ29sbGVjdGlvbi5kb2ModXNlci51aWQpLmdldCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICB1c2VyUHJvZmlsZSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgLy8gc2V0IHVzZXIgcHJvZmlsZQogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRVc2VyUHJvZmlsZScsIHVzZXJQcm9maWxlLmRhdGEoKSk7IC8vIGNoYW5nZSByb3V0ZSBvciByZWRpcmVjdAoKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvZGFzaGJvYXJkJyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWY0KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBjb21taXQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBmYi5hdXRoLnNpZ25PdXQoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRVc2VyUHJvZmlsZScsIHt9KTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvJyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfSk7"},{"version":3,"sources":["C:/Users/micha/VueProjects/play-state-main/src/store/index.js"],"names":["Vue","Vuex","fb","router","use","Store","state","userProfile","isAuthenticated","mutations","setUserProfile","val","authState","actions","register","form","dispatch","auth","createUserWithEmailAndPassword","email","password","user","usersCollection","doc","uid","set","name","login","signInWithEmailAndPassword","fetchUserProfile","commit","get","data","push","logout","signOut","modules"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport * as fb from '../firebase'\nimport router from '../router/index'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    userProfile: {},\n    isAuthenticated: false\n  },\n  mutations: {\n    setUserProfile(state, val, authState) {\n      state.isAuthenticated = !state.isAuthenticated\n      state.userProfile = val\n    }\n  },\n  actions: {\n    async register({ dispatch}, form) {\n      // sign up user\n      const { user } = await fb.auth.createUserWithEmailAndPassword(form.email, form.password)\n\n      // create user profile object\n      await fb.usersCollection.doc(user.uid).set({\n        name: form.name\n      })\n\n      // fetch user profile\n      dispatch('fetchUserProfile', user)\n    },\n    async login({ dispatch }, form) {\n      // sign in user\n      const { user } = await fb.auth.signInWithEmailAndPassword(form.email, form.password)\n\n      // fetch user profile\n      dispatch('fetchUserProfile', user)\n    },\n    async fetchUserProfile({ commit }, user) {\n      // fetch user profile\n      const userProfile = await fb.usersCollection.doc(user.uid).get()\n\n      // set user profile\n      commit('setUserProfile', userProfile.data())\n\n      // change route or redirect\n      router.push('/dashboard')\n    },\n    async logout({ commit }) {\n      await fb.auth.signOut()\n      commit('setUserProfile', {})\n      router.push('/')\n    }\n  },\n  modules: {\n  }\n})\n"]}]}